# Neon Connection Resilience Configuration
# These variables control connection pool behavior and retry logic

# Database Pool Configuration
# Conservative pool size to reduce contention with background worker
DB__POOL_MAX=10
PG_MAX=10
PG_MIN=5
PG_IDLE_TIMEOUT_MS=30000
PG_CONNECTION_TIMEOUT_MS=10000

# Reconnection Retry Configuration
# Exponential backoff with full jitter for Neon admin terminations
DB__RETRY_MAX=8
DB__RETRY_BASE_MS=250
DB__RETRY_MAX_MS=5000

# Audit Configuration
# Enable connection audit logging to connection_audit table
AUDIT__ENABLED=true

# Deployment Mode
# Set to 'webservice' for Replit Reserved VM with background worker
DEPLOY_MODE=webservice
