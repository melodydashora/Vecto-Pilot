
# ===============================
# Vecto Pilot â€” Unified .env
# Agent / Assistant / Eidolon + Triad
# All three have identical max capabilities
# Claude Opus 4.5 with extended thinking
# ===============================

# -------------------------------
# Security / Auth (Generate with: openssl rand -hex 32)
# -------------------------------
AGENT_TOKEN=your_64_char_hex_token_here
EIDOLON_TOKEN=your_64_char_hex_token_here
ASSISTANT_OVERRIDE_TOKEN=your_64_char_hex_token_here
GW_KEY=your_64_char_hex_token_here

# -------------------------------
# AI Provider API Keys (CRITICAL)
# -------------------------------
OPENAI_API_KEY=${OPENAI_API_KEY}
ANTHROPIC_API_KEY=${ANTHROPIC_API_KEY}
PERPLEXITY_API_KEY=${PERPLEXITY_API_KEY}

# Google Services (Multiple keys for different services)
GOOGLE_MAPS_API_KEY=${GOOGLE_MAPS_API_KEY}
GOOGLEAQ_API_KEY=${GOOGLE_MAPS_API_KEY}
GEMINI_API_KEY=${GEMINI_API_KEY}
GOOGLE_AI_API_KEY=${GOOGLE_AI_API_KEY}

# Frontend Google Maps
VITE_GOOGLE_MAPS_API_KEY=${VITE_GOOGLE_MAPS_API_KEY}

# -------------------------------
# Processes / Ports / Paths
# -------------------------------
GATEWAY_PORT=5000
EIDOLON_PORT=3101
AGENT_PORT=43717
BASE_DIR=/home/runner/workspace
STATE_DIR=./data/state
SNAPSHOT_DIR=./data/snapshots
CONTEXT_CACHE_DIR=./data/cache

# -------------------------------
# Database (Replit PostgreSQL)
# -------------------------------
DATABASE_URL=${DATABASE_URL}

# Database pool settings
PG_MAX=10
PG_MIN=2
PG_IDLE_TIMEOUT_MS=30000
PG_CONNECTION_TIMEOUT_MS=15000

# -------------------------------
# Primary Model Override (Claude Opus 4.5)
# -------------------------------
AGENT_OVERRIDE_PROVIDER=anthropic
AGENT_OVERRIDE_MODEL=claude-opus-4-5-20251101
ASSISTANT_OVERRIDE_PROVIDER=anthropic
ASSISTANT_OVERRIDE_MODEL=claude-opus-4-5-20251101
EIDOLON_OVERRIDE_PROVIDER=anthropic
EIDOLON_OVERRIDE_MODEL=claude-opus-4-5-20251101

# -------------------------------
# Agent Server Capabilities
# -------------------------------
AGENT_OVERRIDE_MODE=true
AGENT_BASE_URL=http://127.0.0.1:${AGENT_PORT}
AGENT_POLICY_PATH=config/agent-policy.json
AGENT_PERSIST=true

# File System
AGENT_ALLOW_FS_READ=true
AGENT_ALLOW_FS_WRITE=true
AGENT_ALLOW_FS_DELETE=true
AGENT_ALLOW_FS_CREATE=true
AGENT_ALLOW_FS_RENAME=true
AGENT_ALLOW_FS_LIST=true
AGENT_ALLOW_FS_COPY=true
AGENT_ALLOW_FS_MOVE=true

# Shell & Execution
AGENT_ALLOW_SHELL=true
AGENT_SHELL_WHITELIST=*
AGENT_ALLOW_CODE_EXECUTION=true
AGENT_ALLOW_BASH=true

# Database
AGENT_ALLOW_SQL_READ=true
AGENT_ALLOW_SQL_WRITE=true
AGENT_ALLOW_SQL_DDL=true
AGENT_ALLOW_SQL_DML=true
AGENT_ALLOW_DB_MIGRATIONS=true

# Network & Web
AGENT_ALLOW_HTTP=true
AGENT_ALLOW_WEBSEARCH=true
AGENT_ALLOW_WEB_FETCH=true
AGENT_WEB_SEARCH=true
AGENT_PERPLEXITY_ENABLED=true

# Tools & Features
AGENT_ALLOW_PACKAGE_INSTALL=true
AGENT_ALLOW_CONFIG_EDIT=true
AGENT_ALLOW_REPLIT_TOOLS=true
AGENT_ALLOW_COMPUTER_USE=true
AGENT_ALLOW_TEXT_EDITOR=true

# Modes
AGENT_DESIGN_MODE=true
AGENT_RESEARCH_MODE=true
AGENT_ARCHITECTURE_MODE=true
AGENT_UNRESTRICTED=true

# Enhanced Context Awareness
AGENT_ENHANCED_CONTEXT=true
AGENT_DEEP_CONTEXT_ANALYSIS=true
AGENT_WORKSPACE_AWARENESS=true
AGENT_PROJECT_STATE_TRACKING=true
AGENT_CONVERSATION_MEMORY=true
AGENT_SEMANTIC_SEARCH=true
AGENT_CODE_MAP_ENABLED=true
AGENT_DEPLOYMENT_TRACKING=true

# Memory & Thread Awareness
AGENT_MEMORY_PERSISTENT=true
AGENT_CROSS_THREAD_AWARE=true
AGENT_CROSS_THREAD_ACCESS=true
AGENT_THREAD_CONTEXT_ENABLED=true
AGENT_THREAD_HISTORY_DEPTH=200
AGENT_ENTITY_EXTRACTION=true
AGENT_TOPIC_DISCOVERY=true
AGENT_DECISION_TRACKING=true
AGENT_SEMANTIC_MEMORY=true
AGENT_DEEP_REASONING=true
AGENT_ENHANCED_MEMORY=true

# Auto-Learning & Optimization
AGENT_AUTO_OPTIMIZE=true
AGENT_PATTERN_RECOGNITION=true
AGENT_INTERACTION_LEARNING=true
AGENT_MAX_MEMORY_MB=4096

# Thinking
AGENT_THINKING_ENABLED=true
AGENT_THINKING_BUDGET=10000

# -------------------------------
# Assistant Capabilities (Mirror of Agent)
# -------------------------------
ASSISTANT_OVERRIDE_MODE=true
ASSISTANT_BASE_URL=http://127.0.0.1:${AGENT_PORT}
ASSISTANT_POLICY_PATH=config/assistant-policy.json
ASSISTANT_PERSIST=true

# File System
ASSISTANT_ALLOW_FS_READ=true
ASSISTANT_ALLOW_FS_WRITE=true
ASSISTANT_ALLOW_FS_DELETE=true
ASSISTANT_ALLOW_FS_CREATE=true
ASSISTANT_ALLOW_FS_RENAME=true
ASSISTANT_ALLOW_FS_LIST=true
ASSISTANT_ALLOW_FS_COPY=true
ASSISTANT_ALLOW_FS_MOVE=true

# Shell & Execution
ASSISTANT_ALLOW_SHELL=true
ASSISTANT_SHELL_WHITELIST=*
ASSISTANT_ALLOW_CODE_EXECUTION=true
ASSISTANT_ALLOW_BASH=true

# Database
ASSISTANT_ALLOW_SQL_READ=true
ASSISTANT_ALLOW_SQL_WRITE=true
ASSISTANT_ALLOW_SQL_DDL=true
ASSISTANT_ALLOW_SQL_DML=true
ASSISTANT_ALLOW_DB_MIGRATIONS=true

# Network & Web
ASSISTANT_ALLOW_HTTP=true
ASSISTANT_ALLOW_WEBSEARCH=true
ASSISTANT_ALLOW_WEB_FETCH=true
ASSISTANT_WEB_SEARCH=true
ASSISTANT_PERPLEXITY_ENABLED=true

# Tools & Features
ASSISTANT_ALLOW_PACKAGE_INSTALL=true
ASSISTANT_ALLOW_CONFIG_EDIT=true
ASSISTANT_ALLOW_REPLIT_TOOLS=true
ASSISTANT_ALLOW_COMPUTER_USE=true
ASSISTANT_ALLOW_TEXT_EDITOR=true

# Modes
ASSISTANT_DESIGN_MODE=true
ASSISTANT_RESEARCH_MODE=true
ASSISTANT_ARCHITECTURE_MODE=true
ASSISTANT_UNRESTRICTED=true

# Enhanced Context Awareness
ASSISTANT_ENHANCED_CONTEXT=true
ASSISTANT_DEEP_CONTEXT_ANALYSIS=true
ASSISTANT_WORKSPACE_AWARENESS=true
ASSISTANT_PROJECT_STATE_TRACKING=true
ASSISTANT_CONVERSATION_MEMORY=true
ASSISTANT_SEMANTIC_SEARCH=true
ASSISTANT_CODE_MAP_ENABLED=true
ASSISTANT_DEPLOYMENT_TRACKING=true

# Memory & Thread Awareness
ASSISTANT_MEMORY_PERSISTENT=true
ASSISTANT_CROSS_THREAD_AWARE=true
ASSISTANT_CROSS_THREAD_ACCESS=true
ASSISTANT_THREAD_CONTEXT_ENABLED=true
ASSISTANT_THREAD_HISTORY_DEPTH=200
ASSISTANT_ENTITY_EXTRACTION=true
ASSISTANT_TOPIC_DISCOVERY=true
ASSISTANT_DECISION_TRACKING=true
ASSISTANT_SEMANTIC_MEMORY=true
ASSISTANT_DEEP_REASONING=true
ASSISTANT_ENHANCED_MEMORY=true

# Auto-Learning & Optimization
ASSISTANT_AUTO_OPTIMIZE=true
ASSISTANT_PATTERN_RECOGNITION=true
ASSISTANT_INTERACTION_LEARNING=true
ASSISTANT_MAX_MEMORY_MB=4096

# Thinking
ASSISTANT_THINKING_ENABLED=true
ASSISTANT_THINKING_BUDGET=10000

# -------------------------------
# Eidolon Capabilities (Mirror of Agent)
# -------------------------------
EIDOLON_OVERRIDE_MODE=true
EIDOLON_BASE_URL=http://127.0.0.1:${AGENT_PORT}
EIDOLON_POLICY_PATH=config/eidolon-policy.json
EIDOLON_PERSIST=true

# File System
EIDOLON_ALLOW_FS_READ=true
EIDOLON_ALLOW_FS_WRITE=true
EIDOLON_ALLOW_FS_DELETE=true
EIDOLON_ALLOW_FS_CREATE=true
EIDOLON_ALLOW_FS_RENAME=true
EIDOLON_ALLOW_FS_LIST=true
EIDOLON_ALLOW_FS_COPY=true
EIDOLON_ALLOW_FS_MOVE=true

# Shell & Execution
EIDOLON_ALLOW_SHELL=true
EIDOLON_SHELL_WHITELIST=*
EIDOLON_ALLOW_CODE_EXECUTION=true
EIDOLON_ALLOW_BASH=true

# Database
EIDOLON_ALLOW_SQL_READ=true
EIDOLON_ALLOW_SQL_WRITE=true
EIDOLON_ALLOW_SQL_DDL=true
EIDOLON_ALLOW_SQL_DML=true
EIDOLON_ALLOW_DB_MIGRATIONS=true

# Network & Web
EIDOLON_ALLOW_HTTP=true
EIDOLON_ALLOW_WEBSEARCH=true
EIDOLON_ALLOW_WEB_FETCH=true
EIDOLON_WEB_SEARCH=true
EIDOLON_PERPLEXITY_ENABLED=true

# Tools & Features
EIDOLON_ALLOW_PACKAGE_INSTALL=true
EIDOLON_ALLOW_CONFIG_EDIT=true
EIDOLON_ALLOW_REPLIT_TOOLS=true
EIDOLON_ALLOW_COMPUTER_USE=true
EIDOLON_ALLOW_TEXT_EDITOR=true

# Modes
EIDOLON_DESIGN_MODE=true
EIDOLON_RESEARCH_MODE=true
EIDOLON_ARCHITECTURE_MODE=true
EIDOLON_UNRESTRICTED=true

# Enhanced Context Awareness
EIDOLON_ENHANCED_CONTEXT=true
EIDOLON_DEEP_CONTEXT_ANALYSIS=true
EIDOLON_WORKSPACE_AWARENESS=true
EIDOLON_PROJECT_STATE_TRACKING=true
EIDOLON_CONVERSATION_MEMORY=true
EIDOLON_SEMANTIC_SEARCH=true
EIDOLON_CODE_MAP_ENABLED=true
EIDOLON_DEPLOYMENT_TRACKING=true

# Memory & Thread Awareness
EIDOLON_MEMORY_PERSISTENT=true
EIDOLON_CROSS_THREAD_AWARE=true
EIDOLON_CROSS_THREAD_ACCESS=true
EIDOLON_THREAD_CONTEXT_ENABLED=true
EIDOLON_THREAD_HISTORY_DEPTH=200
EIDOLON_ENTITY_EXTRACTION=true
EIDOLON_TOPIC_DISCOVERY=true
EIDOLON_DECISION_TRACKING=true
EIDOLON_SEMANTIC_MEMORY=true
EIDOLON_DEEP_REASONING=true
EIDOLON_ENHANCED_MEMORY=true

# Auto-Learning & Optimization
EIDOLON_AUTO_OPTIMIZE=true
EIDOLON_PATTERN_RECOGNITION=true
EIDOLON_INTERACTION_LEARNING=true
EIDOLON_MAX_MEMORY_MB=4096

# Thinking
EIDOLON_THINKING_ENABLED=true
EIDOLON_THINKING_BUDGET=10000

# -------------------------------
# Background Worker
# -------------------------------
ENABLE_BACKGROUND_WORKER=true

# -------------------------------
# Core Model Config (GPT-5.1 for Triad)
# -------------------------------
OPENAI_MODEL=gpt-5.1
OPENAI_REASONING_EFFORT=high
OPENAI_MAX_COMPLETION_TOKENS=32000
OPENAI_CONTEXT_WINDOW=200000

# -------------------------------
# Claude Opus 4.5 Config
# -------------------------------
ANTHROPIC_MODEL=claude-opus-4-5-20251101
ANTHROPIC_MAX_TOKENS=16000
ANTHROPIC_THINKING_ENABLED=true
ANTHROPIC_THINKING_BUDGET=10000
ANTHROPIC_CONTEXT_WINDOW=200000

# -------------------------------
# Strategy Pipeline Roles
# -------------------------------
STRATEGY_STRATEGIST=claude-opus-4-5-20251101
STRATEGY_BRIEFER=gemini-3-pro-preview
STRATEGY_CONSOLIDATOR=gpt-5.1
STRATEGY_HOLIDAY_CHECKER=gemini-3-pro-preview
STRATEGY_VALIDATOR=gemini-2.5-pro
STRATEGY_EVENT_VALIDATOR=claude-opus-4-5-20251101

# -------------------------------
# Strategist Parameters (Claude)
# -------------------------------
STRATEGY_STRATEGIST_MAX_TOKENS=1024
STRATEGY_STRATEGIST_TEMPERATURE=0.2

# -------------------------------
# Briefer Parameters (Gemini with Grounding)
# -------------------------------
STRATEGY_BRIEFER_MAX_TOKENS=8192
STRATEGY_BRIEFER_THINKING_LEVEL=high

# -------------------------------
# Consolidator Parameters (GPT-5.1)
# -------------------------------
STRATEGY_CONSOLIDATOR_MAX_TOKENS=32000
STRATEGY_CONSOLIDATOR_REASONING_EFFORT=high

# -------------------------------
# Event Validator Parameters (Claude Opus 4.5 with Web Search)
# Validates event schedules against live sources before strategy generation
# -------------------------------
STRATEGY_EVENT_VALIDATOR_MAX_TOKENS=4096
STRATEGY_EVENT_VALIDATOR_TEMPERATURE=0.1

# Unified triad models
AGENT_MODEL=claude-opus-4-5-20251101
ASSISTANT_MODEL=claude-opus-4-5-20251101
EIDOLON_MODEL=claude-opus-4-5-20251101
TRIAD_STRATEGIST_PROVIDER=openai
TRIAD_PLANNER_PROVIDER=openai
TRIAD_VALIDATOR_PROVIDER=openai

# -------------------------------
# Single-Path Triad Control
# -------------------------------
TRIAD_ENABLED=true
TRIAD_MODE=single_path
TRIAD_FAIL_ON_INVALID=true
TRIAD_INVARIANT_NO_VENUE_INVENTION=true
TRIAD_INVARIANT_SCHEMA_STRICT=true
TRIAD_INVARIANT_WORD_CAPS=true

# -------------------------------
# Budgets / Deadlines
# -------------------------------
LLM_TOTAL_BUDGET_MS=360000
GPT5_TIMEOUT_MS=300000
PLANNER_DEADLINE_MS=300000
VALIDATOR_DEADLINE_MS=60000
DEFAULT_TIMEOUT_MS=180000
API_TIMEOUT_MS=120000
LLM_TIMEOUT_MS=180000
LLM_PRIMARY_TIMEOUT_MS=45000
ANTHROPIC_TIMEOUT_MS=60000
CLAUDE_TIMEOUT_MS=45000
GEMINI_TIMEOUT_MS=60000
BROWSER_GPS_TIMEOUT_MS=8000
COMMAND_EXEC_TIMEOUT_MS=15000
TRANSIENT_RETRY_TIMEOUT_MS=45000
ROUTES_API_FUTURE_TIME_MS=30000

# -------------------------------
# Research & Web Search
# -------------------------------
PERPLEXITY_ENABLED=false
PERPLEXITY_MODEL=sonar-pro
PERPLEXITY_MAX_TOKENS=4096
WEB_SEARCH_ENABLED=true
GEMINI_GROUNDING_ENABLED=true

# -------------------------------
# Advanced Features
# -------------------------------
RESEARCH_MODE_ENABLED=true
AUTO_PERFORMANCE_TUNING=true
ADVANCED_DEBUGGING=true
DEPLOYMENT_AUTOMATION=true

# Thread Memory
THREAD_MEMORY_FULL_CONTEXT=true
THREAD_MEMORY_UNLIMITED=true
THREAD_CROSS_SESSION_AWARE=true
THREAD_DEEP_HISTORY=true
THREAD_SEMANTIC_LINKING=true
CROSS_THREAD_MEMORY_ENABLED=true
CROSS_THREAD_GLOBAL_CONTEXT=true
UNIFIED_MEMORY_ARCHITECTURE=true

# -------------------------------
# Anthropic Thinking Budgets
# -------------------------------
ANTHROPIC_THINKING_LOW=1000
ANTHROPIC_THINKING_MEDIUM=5000
ANTHROPIC_THINKING_HIGH=10000

# -------------------------------
# Worker & Lock Settings
# -------------------------------
LOCK_TTL_MS=9000
HEARTBEAT_MS=3000
WORKER_ID=replit:primary
MAX_WORKER_RESTARTS=10
RESTART_BACKOFF_MS=5000
JOB_CLEANUP_INTERVAL_MS=3600000

# -------------------------------
# Retry & Circuit Breaker
# -------------------------------
TRANSIENT_RETRY_MAX_RETRIES=6
CIRCUIT_COOLDOWN_MS=60000

# -------------------------------
# Rate Limiting
# -------------------------------
MAX_REQUESTS_PER_WINDOW=10
RATE_LIMIT_WINDOW_MS=60000

# -------------------------------
# Blocks & Exploration
# -------------------------------
MAX_BLOCKS_LIMIT=50
MIN_BLOCKS_RECOMMENDED=8
EXPLORATION_RATE=0.2
OPEN_PROB_DEFAULT=0.5
RELIABILITY_DEFAULT=0.5
PROXIMITY_WEIGHT=2.0

# -------------------------------
# Geospatial
# -------------------------------
EARTH_RADIUS_KM=6371
COORD_DELTA_THRESHOLD_KM=0.5
AIRPORT_PROXIMITY_THRESHOLD_MILES=30

# -------------------------------
# Caching
# -------------------------------
CACHE_WINDOW_MINUTES=1
SEMANTIC_EMBEDDING_SIZE=1536

# -------------------------------
# Value Per Minute Ranking
# -------------------------------
VALUE_BASE_RATE_PER_MIN=1.00
VALUE_DEFAULT_TRIP_MIN=15
VALUE_DEFAULT_WAIT_MIN=0
VALUE_MIN_ACCEPTABLE_PER_MIN=0.50

# -------------------------------
# Replit Metadata (keep slug last)
# -------------------------------
REPL_ID=${REPL_ID}
REPL_OWNER=${REPL_OWNER}
REPLIT_DEV_DOMAIN=${REPLIT_DEV_DOMAIN}
REPL_SLUG=${REPL_SLUG}
