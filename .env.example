# ===============================
# Vecto Pilot — .env.example
# Single-path triad (all-GPT): GPT-5 strategist → GPT-5 planner → GPT-5 validator
# No fallbacks; explicit failure if any stage violates invariants.
# ===============================

# -------------------------------
# Security / Auth
# -------------------------------
AGENT_TOKEN=your_64_char_hex_token_here_generate_with_openssl_rand_hex_32
EIDOLON_TOKEN=your_64_char_hex_token_here_generate_with_openssl_rand_hex_32
ASSISTANT_OVERRIDE_TOKEN=your_64_char_hex_token_here_generate_with_openssl_rand_hex_32
GW_KEY=your_gateway_key_here_generate_with_openssl_rand_hex_32

# NEVER commit real API keys to *.example files — use placeholders only.
OPENAI_API_KEY=your_openai_key_here
PERPLEXITY_API_KEY=your_perplexity_key_here

# -------------------------------
# Processes / Ports / Paths
# -------------------------------
GATEWAY_PORT=5000
EIDOLON_PORT=3101
AGENT_PORT=43717
BASE_DIR=/home/runner/workspace
STATE_DIR=./data/state
SNAPSHOT_DIR=./data/snapshots
CONTEXT_CACHE_DIR=./data/cache

# -------------------------------
# Database
# -------------------------------
DATABASE_URL=postgres://user:pass@host:5432/dbname
PGSSLMODE=require

# -------------------------------
# Agent Server Capabilities (MAXIMUM)
# -------------------------------
AGENT_BASE_URL=http://127.0.0.1:${AGENT_PORT}
AGENT_ALLOW_FS_READ=true
AGENT_ALLOW_FS_WRITE=true
AGENT_ALLOW_FS_DELETE=true
AGENT_ALLOW_SHELL=true
AGENT_SHELL_WHITELIST=*
AGENT_ALLOW_SQL_READ=true
AGENT_ALLOW_SQL_WRITE=true
AGENT_ALLOW_SQL_DDL=true
AGENT_ALLOW_HTTP=true
AGENT_ALLOW_WEBSEARCH=true
AGENT_MAX_MEMORY_MB=4096
AGENT_DESIGN_MODE=true
AGENT_RESEARCH_MODE=true
AGENT_ARCHITECTURE_MODE=true
AGENT_ALLOW_PACKAGE_INSTALL=true
AGENT_ALLOW_DB_MIGRATIONS=true
AGENT_ALLOW_CONFIG_EDIT=true
AGENT_ALLOW_REPLIT_TOOLS=true
AGENT_ENHANCED_CONTEXT=true
AGENT_SEMANTIC_SEARCH=true
AGENT_AUTO_OPTIMIZE=true

# -------------------------------
# Assistant Override
# -------------------------------
ASSISTANT_OVERRIDE_MODE=true
ASSISTANT_BASE_URL=http://127.0.0.1:${AGENT_PORT}
ASSISTANT_ALLOW_FS_READ=true
ASSISTANT_ALLOW_FS_WRITE=true
ASSISTANT_ALLOW_SHELL=true
ASSISTANT_SHELL_WHITELIST=ls,cat,npm,node,git,psql,pg_dump,tar,sed,awk,find
ASSISTANT_ALLOW_SQL_READ=true
ASSISTANT_ALLOW_SQL_WRITE=true
ASSISTANT_PERSIST=true
ASSISTANT_POLICY_PATH=config/assistant-policy.json

# -------------------------------
# Memory / Eidolon
# -------------------------------
EIDOLON_OVERRIDE_MODE=true
EIDOLON_BASE_URL=http://127.0.0.1:${AGENT_PORT}
EIDOLON_ALLOW_FS_READ=true
EIDOLON_ALLOW_FS_WRITE=true
EIDOLON_ALLOW_SHELL=true
EIDOLON_SHELL_WHITELIST=*
EIDOLON_ALLOW_SQL_READ=true
EIDOLON_ALLOW_SQL_WRITE=true
EIDOLON_PERSIST=true
EIDOLON_POLICY_PATH=config/EIDOLON-policy.json
EIDOLON_SEMANTIC_MEMORY=true
EIDOLON_WORKSPACE_AWARENESS=true
EIDOLON_DEEP_REASONING=true
EIDOLON_ENHANCED_MEMORY=true

# -------------------------------
# Core Model Config
# -------------------------------
# OpenAI GPT-5
OPENAI_MODEL=gpt-5
OPENAI_API_KEY=your_openai_key_here
OPENAI_REASONING_EFFORT=high
OPENAI_MAX_COMPLETION_TOKENS=32000
# Note: GPT-5 does NOT support temperature/top_p - use reasoning_effort instead

# Anthropic Claude
ANTHROPIC_MODEL=claude-sonnet-4-5-20250929
ANTHROPIC_API_KEY=your_anthropic_key_here
ANTHROPIC_VERSION=2023-06-01
ANTHROPIC_TIMEOUT_MS=60000

# Google Gemini
GEMINI_MODEL=gemini-2.5-pro
GEMINI_API_KEY=your_gemini_key_here

# For uniform triad behavior
AGENT_MODEL=gpt-5
ASSISTANT_MODEL=gpt-5
EIDOLON_MODEL=gpt-5
TRIAD_STRATEGIST_PROVIDER=openai
TRIAD_PLANNER_PROVIDER=openai
TRIAD_VALIDATOR_PROVIDER=openai

# -------------------------------
# Single-Path Triad Control
# -------------------------------
TRIAD_ENABLED=true
TRIAD_MODE=single_path
TRIAD_FAIL_ON_INVALID=true
TRIAD_INVARIANT_NO_VENUE_INVENTION=true
TRIAD_INVARIANT_SCHEMA_STRICT=true
TRIAD_INVARIANT_WORD_CAPS=true

# -------------------------------
# Budgets / Deadlines
# -------------------------------
LLM_TOTAL_BUDGET_MS=180000
GPT5_TIMEOUT_MS=120000
PLANNER_DEADLINE_MS=120000
VALIDATOR_DEADLINE_MS=10000

# -------------------------------
# Research & Web Search
# -------------------------------
PERPLEXITY_ENABLED=true
PERPLEXITY_MODEL=sonar-pro
PERPLEXITY_MAX_TOKENS=4096
WEB_SEARCH_ENABLED=true

# -------------------------------
# Advanced Features
# -------------------------------
AGENT_UNRESTRICTED=true
RESEARCH_MODE_ENABLED=true
AUTO_PERFORMANCE_TUNING=true
ADVANCED_DEBUGGING=true
DEPLOYMENT_AUTOMATION=true

THREAD_MEMORY_FULL_CONTEXT=true
THREAD_MEMORY_UNLIMITED=true
THREAD_CROSS_SESSION_AWARE=true
THREAD_DEEP_HISTORY=true
THREAD_SEMANTIC_LINKING=true
CROSS_THREAD_MEMORY_ENABLED=true
CROSS_THREAD_GLOBAL_CONTEXT=true
AGENT_MEMORY_PERSISTENT=true
AGENT_CROSS_THREAD_AWARE=true
EIDOLON_CROSS_THREAD_ACCESS=true
UNIFIED_MEMORY_ARCHITECTURE=true

# -------------------------------
# Replit Metadata (keep slug last)
# -------------------------------
REPL_ID=${REPL_ID}
REPL_OWNER=${REPL_OWNER}
REPLIT_DEV_DOMAIN=${REPLIT_DEV_DOMAIN}
REPL_SLUG=${REPL_SLUG}

# -------------------------------
# Value Per Minute Ranking
# -------------------------------
VALUE_BASE_RATE_PER_MIN=1.00
VALUE_DEFAULT_TRIP_MIN=15
VALUE_DEFAULT_WAIT_MIN=0
VALUE_MIN_ACCEPTABLE_PER_MIN=0.50
